<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="`Storage` transaction with read/write access to the storage."><title>StorageTransaction in tardigrade_rt::storage - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-47e7ab555ef2818a.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="tardigrade_rt" data-themes="" data-resource-suffix="" data-rustdoc-version="1.74.0-nightly (62ebe3a2b 2023-09-08)" data-channel="nightly" data-search-js="search-5d3eaacf19ebf04f.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-f194925aa375ae96.css" data-theme-dark-css="dark-1dd4d1ce031e15de.css" data-theme-ayu-css="ayu-49e58d069f567085.css" ><script src="../../static.files/storage-db41da1a38ea3cb8.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-ef3a2de404864b0b.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../../static.files/light-f194925aa375ae96.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../../static.files/dark-1dd4d1ce031e15de.css"><link rel="stylesheet" href="../../static.files/noscript-cffde32267a19fd6.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../tardigrade_rt/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../tardigrade_rt/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">StorageTransaction</a></h2><div class="sidebar-elems"><section><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.commit">commit</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In tardigrade_rt::storage</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="../index.html">tardigrade_rt</a>::<wbr><a href="index.html">storage</a>::<wbr><a class="trait" href="#">StorageTransaction</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/tardigrade_rt/storage/mod.rs.html#159-171">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait StorageTransaction: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + <a class="trait" href="trait.WriteModules.html" title="trait tardigrade_rt::storage::WriteModules">WriteModules</a> + <a class="trait" href="trait.WriteChannels.html" title="trait tardigrade_rt::storage::WriteChannels">WriteChannels</a> + <a class="trait" href="trait.WriteWorkflows.html" title="trait tardigrade_rt::storage::WriteWorkflows">WriteWorkflows</a> + <a class="trait" href="trait.WriteWorkflowWakers.html" title="trait tardigrade_rt::storage::WriteWorkflowWakers">WriteWorkflowWakers</a> + <a class="trait" href="../../tardigrade_worker/connection/trait.WorkerStorageConnection.html" title="trait tardigrade_worker::connection::WorkerStorageConnection">WorkerStorageConnection</a>&lt;Error = <a class="enum" href="https://doc.rust-lang.org/nightly/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a>&gt; {
    // Required method
    fn <a href="#tymethod.commit" class="fn">commit</a>&lt;'async_trait&gt;(
        self
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where Self: 'async_trait</span>;
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p><a href="trait.Storage.html" title="trait tardigrade_rt::storage::Storage"><code>Storage</code></a> transaction with read/write access to the storage.</p>
<p>Transactions must satisfy the ACID semantics. In particular, they must apply atomically
and be isolated (i.e., not visible to other transactions until committed).</p>
<p><a href="trait.StorageTransaction.html#tymethod.commit"><code>Self::commit()</code></a> must be called for before the transaction is dropped.
Explicit transaction rollback support is not required; all transactions instantiated
by a <a href="../runtime/struct.Runtime.html" title="struct tardigrade_rt::runtime::Runtime"><code>Runtime</code></a> are guaranteed to eventually be committed (save for corner cases,
e.g., panicking when the transaction is active).
If rollback <em>is</em> supported by the storage, it is assumed to be the default behavior
on transaction drop. It would be an error to commit transactions on drop,
since this would produce errors in the aforementioned corner cases.</p>
</div></details><h2 id="required-methods" class="small-section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.commit" class="method"><a class="src rightside" href="../../src/tardigrade_rt/storage/mod.rs.html#170">source</a><h4 class="code-header">fn <a href="#tymethod.commit" class="fn">commit</a>&lt;'async_trait&gt;(
    self
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<span class="where fmt-newline">where
    Self: 'async_trait,</span></h4></section></summary><div class="docblock"><p>Commits this transaction to the storage. This method must be called
to (atomically) apply transaction changes.</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><section id="impl-StorageTransaction-for-LocalTransaction%3C'_%3E" class="impl"><a class="src rightside" href="../../src/tardigrade_rt/storage/local.rs.html#633-650">source</a><a href="#impl-StorageTransaction-for-LocalTransaction%3C'_%3E" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.StorageTransaction.html" title="trait tardigrade_rt::storage::StorageTransaction">StorageTransaction</a> for <a class="struct" href="struct.LocalTransaction.html" title="struct tardigrade_rt::storage::LocalTransaction">LocalTransaction</a>&lt;'_&gt;</h3></section><section id="impl-StorageTransaction-for-StreamingTransaction%3CT%3E" class="impl"><a class="src rightside" href="../../src/tardigrade_rt/storage/stream.rs.html#373-391">source</a><a href="#impl-StorageTransaction-for-StreamingTransaction%3CT%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T: <a class="trait" href="trait.StorageTransaction.html" title="trait tardigrade_rt::storage::StorageTransaction">StorageTransaction</a>&gt; <a class="trait" href="trait.StorageTransaction.html" title="trait tardigrade_rt::storage::StorageTransaction">StorageTransaction</a> for <a class="struct" href="struct.StreamingTransaction.html" title="struct tardigrade_rt::storage::StreamingTransaction">StreamingTransaction</a>&lt;T&gt;</h3></section><section id="impl-StorageTransaction-for-TransactionLock%3C'_,+T%3E" class="impl"><a class="src rightside" href="../../src/tardigrade_rt/storage/transaction.rs.html#250-254">source</a><a href="#impl-StorageTransaction-for-TransactionLock%3C'_,+T%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T: <a class="trait" href="trait.StorageTransaction.html" title="trait tardigrade_rt::storage::StorageTransaction">StorageTransaction</a>&gt; <a class="trait" href="trait.StorageTransaction.html" title="trait tardigrade_rt::storage::StorageTransaction">StorageTransaction</a> for <a class="struct" href="struct.TransactionLock.html" title="struct tardigrade_rt::storage::TransactionLock">TransactionLock</a>&lt;'_, T&gt;</h3></section></div><script src="../../implementors/tardigrade_rt/storage/trait.StorageTransaction.js" async></script></section></div></main></body></html>